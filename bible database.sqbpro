<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="genesis_all_c_all_v_parallel_20250926_1509.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser query pragmas" current="2"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="17647"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="figurative_language" custom_title="0" dock_id="186" table="4,19:mainfigurative_language"/><dock_state state="000000ff00000000fd0000000100000002000005d7000003fffc01000000b1fc00000000000005bb0000000000fffffffa000000000100000004fb000000160064006f0063006b00420072006f00770073006500310100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500330100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500320100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500340100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500350100000000000005bb0000000000000000fb000000160064006f0063006b00420072006f00770073006500360100000000000005bb0000000000000000fc00000000000005bb0000000000fffffffa000000000100000002fb000000160064006f0063006b00420072006f00770073006500370100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500380100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f007700730065003901000000000000064b0000000000000000fb000000180064006f0063006b00420072006f0077007300650031003001000000000000064b0000000000000000fb000000180064006f0063006b00420072006f0077007300650031003101000000000000064b0000000000000000fb000000180064006f0063006b00420072006f007700730065003100320100000000000006010000000000000000fb000000180064006f0063006b00420072006f007700730065003100330100000000000006040000000000000000fb000000180064006f0063006b00420072006f007700730065003100340100000000000006040000000000000000fb000000180064006f0063006b00420072006f007700730065003100350100000000000006040000000000000000fb000000180064006f0063006b00420072006f007700730065003100360100000000000006040000000000000000fb000000180064006f0063006b00420072006f007700730065003100370100000000000006040000000000000000fb000000180064006f0063006b00420072006f007700730065003100380100000000000006040000000000000000fb000000180064006f0063006b00420072006f007700730065003100390100000000000006040000000000000000fb000000180064006f0063006b00420072006f007700730065003200300100000000000006040000000000000000fb000000180064006f0063006b00420072006f007700730065003200310100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003200320100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003200330100000000ffffffff0000000000000000fb000000180064006f0063006b00420072006f007700730065003200340100000000ffffffff0000000000000000fc00000000000005d70000000000fffffffa000000000100000002fb000000180064006f0063006b00420072006f007700730065003200350100000000ffffffff0000000000000000fb000000180064006f0063006b00420072006f007700730065003200360100000000ffffffff0000000000000000fb000000180064006f0063006b00420072006f007700730065003200370100000000ffffffff0000000000000000fb000000180064006f0063006b00420072006f007700730065003200380100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003200390100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003300300100000000000005d70000000000000000fc00000000000005d70000000000fffffffa000000000100000003fb000000180064006f0063006b00420072006f007700730065003300310100000000ffffffff0000000000000000fb000000180064006f0063006b00420072006f007700730065003300320100000000ffffffff0000000000000000fb000000180064006f0063006b00420072006f007700730065003300330100000000ffffffff0000000000000000fb000000180064006f0063006b00420072006f007700730065003300340100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003300350100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003300360100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003300370100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003300380100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003300390100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003400300100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003400310100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003400320100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003400330100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003400340100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003400350100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003400360100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003400370100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003400380100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003400390100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003500300100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003500310100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003500320100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003500330100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003500340100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003500350100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003500360100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003500370100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003500380100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003500390100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003600300100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003600310100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003600320100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003600330100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003600340100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003600350100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003600360100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003600370100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003600380100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003600390100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003700300100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003700310100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003700320100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003700330100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003700340100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003700350100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003700360100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003700370100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003700380100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003700390100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003800300100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003800310100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003800320100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003800330100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003800340100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003800350100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003800360100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003800370100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003800380100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003800390100000000000005d70000000000000000fc00000000000005d70000000000fffffffa000000000100000002fb000000180064006f0063006b00420072006f007700730065003900300100000000ffffffff0000000000000000fb000000180064006f0063006b00420072006f007700730065003900310100000000ffffffff0000000000000000fb000000180064006f0063006b00420072006f007700730065003900320100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003900330100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003900340100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003900350100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003900360100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003900370100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003900380100000000000005d70000000000000000fb000000180064006f0063006b00420072006f007700730065003900390100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003000300100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003000310100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003000320100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003000330100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003000340100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003000350100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003000360100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003000370100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003000380100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003000390100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003100300100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003100310100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003100320100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003100330100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003100340100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003100350100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003100360100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003100370100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003100380100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003100390100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003200300100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003200310100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003200320100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003200330100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003200340100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003200350100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003200360100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003200370100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003200380100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003200390100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003300300100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003300310100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003300320100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003300330100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003300340100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003300350100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003300360100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003300370100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003300380100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003300390100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003400300100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003400310100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003400320100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003400330100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003400340100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003400350100000000000005d70000000000000000fc00000000000005d70000000000fffffffa000000000100000002fb0000001a0064006f0063006b00420072006f0077007300650031003400360100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003400370100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003400380100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003400390100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003500300100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003500310100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003500320100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003500330100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003500340100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003500350100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003500360100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003500370100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003500380100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003500390100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003600300100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003600310100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003600320100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003600330100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003600340100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003600350100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003600360100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003600370100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003600380100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003600390100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003700300100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003700310100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003700320100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003700330100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003700340100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003700350100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003700360100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003700370100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003700380100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003700390100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003800300100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003800310100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003800320100000000000005d70000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003800330100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003800340100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003800350100000000ffffffff0000000000000000fb0000001a0064006f0063006b00420072006f0077007300650031003800360100000000ffffffff0000011e00ffffff000002690000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings/></tab_browse><tab_sql><sql name="SQL 1*">  SELECT v.reference, v.english_text, v.id, fl.verse_id, fl.type, fl.confidence
  FROM verses v
  JOIN figurative_language fl ON v.id = fl.verse_id
  </sql><sql name="SQL 2*">-- Find all figurative language within 5 verses of Genesis 1:15
  SELECT
      v.reference,
      v.verse,
      ABS(v.verse - 15) as verse_distance,
      fl.type,
      fl.confidence,
      fl.text_snippet
  FROM verses v
  JOIN figurative_language fl ON v.id = fl.verse_id
  WHERE v.book = 'Genesis'
      AND v.chapter = 1
      AND v.verse BETWEEN 10 AND 20  -- verses 10-20 (5 before and after verse 15)
  ORDER BY v.verse, fl.confidence DESC;

  For more complex proximity analysis across chapter boundaries:
  -- Find figurative language within 5 verses of Genesis 1:15 (cross-chapter capable)
  WITH target_verse AS (
      SELECT book, chapter, verse,
             (chapter - 1) * 100 + verse as verse_number  -- Simple verse numbering
      FROM verses
      WHERE book = 'Genesis' AND chapter = 1 AND verse = 15
  )
  SELECT
      v.reference,
      v.chapter,
      v.verse,
      ABS(((v.chapter - 1) * 100 + v.verse) - tv.verse_number) as verse_distance,
      fl.type,
      fl.confidence,
      fl.text_snippet
  FROM verses v
  JOIN figurative_language fl ON v.id = fl.verse_id
  CROSS JOIN target_verse tv
  WHERE v.book = tv.book
      AND ABS(((v.chapter - 1) * 100 + v.verse) - tv.verse_number) &lt;= 5
  ORDER BY verse_distance, v.chapter, v.verse;
</sql><sql name="SQL 3*">select *
from verses
left join figurative_language on verses.id=figurative_language.verse_id
--where tenor_level_1=&quot;God&quot;
order by id ASC</sql><sql name="detail*">select 
reference,
--hebrew_text,
hebrew_text_stripped,
english_text,
--figurative_text_in_hebrew,
figurative_text_in_hebrew_stripped,
figurative_text,
-- llm_deliberation,
CASE WHEN LOWER(final_figurative_language) LIKE '%yes%' THEN 1 ELSE 0 END AS FIGURATIVE_FINAL,
CASE WHEN LOWER(final_metaphor) LIKE '%yes%' THEN 1 ELSE 0 END AS METAPHOR_FINAL,
CASE WHEN LOWER(final_simile) LIKE '%yes%' THEN 1 ELSE 0 END AS SIMILE_FINAL,
CASE WHEN LOWER(final_idiom) LIKE '%yes%' THEN 1 ELSE 0 END AS IDIOM_FINAL,
CASE WHEN LOWER(final_metonymy) LIKE '%yes%' THEN 1 ELSE 0 END AS METONYMY_FINAL,
CASE WHEN LOWER(final_hyperbole) LIKE '%yes%' THEN 1 ELSE 0 END AS HYPERBOLE_FINAL,
CASE WHEN LOWER(final_personification) LIKE '%yes%' THEN 1 ELSE 0 END AS PERSONIFICATION_FINAL,
CASE WHEN LOWER(final_other) LIKE '%yes%' THEN 1 ELSE 0 END AS OTHER_FINAL,
figurative_language,
metaphor,
simile,
idiom,
metonymy,
hyperbole,
personification,
other,
figurative_detection_deliberation,
tagging_analysis_deliberation,
explanation,
speaker,
validation_decision_metaphor,
validation_decision_simile,
validation_decision_idiom,
validation_decision_metonymy,
validation_decision_hyperbole,
validation_decision_personification,
validation_decision_other,
validation_reason_metaphor,
validation_reason_simile,
validation_reason_idiom,
validation_reason_metonymy,
validation_reason_hyperbole,
validation_reason_personification,
validation_reason_other,
target,
vehicle,
ground,
posture,
validation_error,
instances_lost_to_truncation,
llm_restriction_error,
model_used
from verses
left join figurative_language on verses.id=figurative_language.verse_id
where FIGURATIVE_FINAL=1
--and (vehicle like '%eye%')
and 
(
(target like '%book%' or vehicle like '%book%' or ground like '%book%') or
(target like '%scroll%' or vehicle like '%scroll%' or ground like '%scroll%') or
(target like '%writ%' or vehicle like '%writ%' or ground like '%writ%')
-- (target like '%return%' or vehicle like '%return%' or ground like '%return%') or
-- (target like '%mercy%' or vehicle like '%mercy%' or ground like '%mercy%') or
-- (target like '%repent%' or vehicle like '%repent%' or ground like '%repent%') or
-- (target like '%righteous%' or vehicle like '%righteous%' or ground like '%righteous%')or
-- (target like '%goodness%' or vehicle like '%goodness%' or ground like '%goodness%')
)
--where instances_lost_to_truncation&gt;0</sql><sql name="short detail*">--one row per instance of fig language with tenor and vehicle info
select 
reference,
hebrew_text,
english_text,
figurative_text_in_hebrew,
figurative_text,
--CASE WHEN LOWER(final_figurative_language) LIKE '%yes%' THEN 1 ELSE 0 END AS FIGURATIVE_FINAL,
CASE WHEN LOWER(final_metaphor) LIKE '%yes%' THEN 1 ELSE 0 END AS METAPHOR_FINAL,
CASE WHEN LOWER(final_simile) LIKE '%yes%' THEN 1 ELSE 0 END AS SIMILE_FINAL,
CASE WHEN LOWER(final_idiom) LIKE '%yes%' THEN 1 ELSE 0 END AS IDIOM_FINAL,
CASE WHEN LOWER(final_metonymy) LIKE '%yes%' THEN 1 ELSE 0 END AS METONYMY_FINAL,
CASE WHEN LOWER(final_hyperbole) LIKE '%yes%' THEN 1 ELSE 0 END AS HYPERBOLE_FINAL,
CASE WHEN LOWER(final_personification) LIKE '%yes%' THEN 1 ELSE 0 END AS PERSONIFICATION_FINAL,
CASE WHEN LOWER(final_other) LIKE '%yes%' THEN 1 ELSE 0 END AS OTHER_FINAL,
target_level_1,
target_specific,
vehicle_level_1,
vehicle_specific,
ground_level_1,
ground_specific
from verses
left join figurative_language on verses.id=figurative_language.verse_id
where CASE WHEN LOWER(final_figurative_language) LIKE '%yes%' THEN 1 ELSE 0 END=1</sql><sql name="specific ch_vr*">select 
reference,
--hebrew_text,
hebrew_text_stripped,
english_text,
--figurative_text_in_hebrew,
figurative_text_in_hebrew_stripped,
figurative_text,
-- llm_deliberation,
CASE WHEN LOWER(final_figurative_language) LIKE '%yes%' THEN 1 ELSE 0 END AS FIGURATIVE_FINAL,
CASE WHEN LOWER(final_metaphor) LIKE '%yes%' THEN 1 ELSE 0 END AS METAPHOR_FINAL,
CASE WHEN LOWER(final_simile) LIKE '%yes%' THEN 1 ELSE 0 END AS SIMILE_FINAL,
CASE WHEN LOWER(final_idiom) LIKE '%yes%' THEN 1 ELSE 0 END AS IDIOM_FINAL,
CASE WHEN LOWER(final_metonymy) LIKE '%yes%' THEN 1 ELSE 0 END AS METONYMY_FINAL,
CASE WHEN LOWER(final_hyperbole) LIKE '%yes%' THEN 1 ELSE 0 END AS HYPERBOLE_FINAL,
CASE WHEN LOWER(final_personification) LIKE '%yes%' THEN 1 ELSE 0 END AS PERSONIFICATION_FINAL,
CASE WHEN LOWER(final_other) LIKE '%yes%' THEN 1 ELSE 0 END AS OTHER_FINAL,
figurative_language,
metaphor,
simile,
idiom,
metonymy,
hyperbole,
personification,
other,
figurative_detection_deliberation,
tagging_analysis_deliberation,
explanation,
speaker,
validation_decision_metaphor,
validation_decision_simile,
validation_decision_idiom,
validation_decision_metonymy,
validation_decision_hyperbole,
validation_decision_personification,
validation_decision_other,
validation_reason_metaphor,
validation_reason_simile,
validation_reason_idiom,
validation_reason_metonymy,
validation_reason_hyperbole,
validation_reason_personification,
validation_reason_other,
target,
vehicle,
ground,
posture,
validation_error,
instances_lost_to_truncation,
llm_restriction_error,
model_used
from verses
left join figurative_language on verses.id=figurative_language.verse_id
--where FIGURATIVE_FINAL=1
where chapter=30
order by verse
--and (vehicle like '%eye%')
-- and 
-- ((target like '%return%' or vehicle like '%return%' or ground like '%return%')
-- or (target like '%mercy%' or vehicle like '%mercy%' or ground like '%mercy%'))
-- --where instances_lost_to_truncation&gt;0</sql><sql name="SQL 8*">select 
*
from verses
left join figurative_language on verses.id=figurative_language.verse_id
</sql><current_tab id="6"/></tab_sql></sqlb_project>
