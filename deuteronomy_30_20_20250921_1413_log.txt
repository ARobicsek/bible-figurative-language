2025-09-21 14:13:35,959 - INFO - Successfully loaded environment variables from: C:\Users\ariro\OneDrive\Documents\Bible\.env
2025-09-21 14:13:35,959 - INFO - === PROCESSING DEUTERONOMY CHAPTER(S) [30] WITH MULTI-MODEL API ===
2025-09-21 14:13:35,960 - INFO - Initializing Sefaria client...
2025-09-21 14:13:35,960 - INFO - Creating database: deuteronomy_30_20_20250921_1413.db
2025-09-21 14:13:36,592 - INFO - Initializing Metaphor Validator...
2025-09-21 14:13:36,592 - INFO - Initializing Gemini multi-model API...
2025-09-21 14:13:36,592 - INFO - --- Processing Deuteronomy 30 ---
2025-09-21 14:13:36,592 - INFO - Fetching text for Deuteronomy 30...
2025-09-21 14:13:36,950 - INFO - Retrieved 20 verses for Deuteronomy 30
2025-09-21 14:13:36,950 - INFO - Filtering to process 1 selected verse(s): [20]
2025-09-21 14:13:36,951 - INFO -   Processing Deuteronomy 30:20 (1/1)...
2025-09-21 14:14:02,108 - ERROR - JSON decode error at position 1062: Unterminated string starting at
2025-09-21 14:14:02,109 - ERROR - JSON string length: 1088
2025-09-21 14:14:02,109 - ERROR - JSON context around error: ...ew_text": "וּלְדׇבְקָה־ב֑וֹ",
    "english_text": "and holding fast to [God]...
2025-09-21 14:14:02,109 - ERROR - Extracted JSON string (first 800 chars): [
  {
    "figurative_language": "yes",
    "simile": "no",
    "metaphor": "no",
    "personification": "no",
    "idiom": "yes",
    "hyperbole": "no",
    "metonymy": "yes",
    "other": "no",
    "hebrew_text": "לִשְׁמֹ֥עַ בְּקֹל֖וֹ",
    "english_text": "heeding God’s commands (lit. listening to His voice)",
    "explanation": "This is an idiom where 'listening to God's voice' is a metonymy for obeying or heeding God's commands. The 'voice' stands for the message/command, and 'listening' for obedience.",
    "vehicle_level_1": "human",
    "vehicle_level_2": "listening to a voice",
    "tenor_level_1": "covenant",
    "tenor_level_2": "obedience to commands",
    "confidence": 1.0,
    "speaker": "Narrator",
    "purpose": "To emphasize the requirement of obedience to God's instructio...
2025-09-21 14:14:02,110 - ERROR - Extracted JSON string (last 300 chars): ...s instructions."
  },
  {
    "figurative_language": "yes",
    "simile": "no",
    "metaphor": "yes",
    "personification": "no",
    "idiom": "no",
    "hyperbole": "no",
    "metonymy": "no",
    "other": "no",
    "hebrew_text": "וּלְדׇבְקָה־ב֑וֹ",
    "english_text": "and holding fast to [God]
2025-09-21 14:14:02,110 - INFO -     API Metadata: {'model_used': 'gemini-2.5-flash', 'context': 'narrative', 'retries': 0, 'input_tokens': 982, 'output_tokens': 1915, 'all_detected_instances': [], 'llm_deliberation': 'I have analyzed every potential figurative element in the provided verse according to the given instructions.\n\n*   **לְאַֽהֲבָה֙ אֶת־יְהֹוָ֣ה אֱלֹהֶ֔יךָ** (by loving your God יהוה): I considered if "loving God" might be a metaphor for obedience or a specific ritualistic act. However, in biblical Hebrew, \'ahavah\' (love) is a direct and literal concept encompassing affection, loyalty, and commitment, which naturally leads to obedience. It is a fundamental command for a state of being and action, not a symbolic representation of something else. Therefore, I concluded it is not figurative.\n\n*   **לִשְׁמֹ֥עַ בְּקֹל֖וֹ** (heeding God’s commands / lit. "listening to His voice"): I considered this phrase for potential figurative meaning. While "listening to a voice" can be a literal act of hearing sound, in the context of divine communication and human response, "listening to God\'s voice" (שמע בקול) is a well-established biblical idiom. It signifies "to obey" or "to heed" God\'s instructions or commands, rather than merely perceiving an auditory phenomenon. The "voice" (קול) here functions as a metonymy for the divine message or command, and "listening" (שמע) for the act of obedience. This is a standard idiomatic expression for compliance with divine authority. Therefore, I classified it as an idiom, specifically a metonymy.\n\n*   **וּלְדׇבְקָה־ב֑וֹ** (and holding fast to [God] / lit. "and clinging to Him"): I considered if "clinging to God" is literal or figurative. The verb דבק (dabaq) literally means to stick, cleave, or cling physically (e.g., skin to bone, a man to his wife). When applied to an incorporeal God, physical clinging is impossible. Therefore, it functions as a metaphor, drawing a comparison between physical adhesion and an intense, unwavering spiritual and relational devotion, loyalty, and commitment to God. It signifies an inseparable bond. This is a clear cross-domain comparison. Therefore, I classified it as a metaphor.\n\n*   **כִּ֣י ה֤וּא חַיֶּ֙יךָ֙** (For thereby you shall have life / lit. "For He is your life"): I considered this phrase as a potential metaphor. God is not literally the biological process of life or the duration of existence itself. Instead, this statement equates God with the very essence, source, and sustainer of life for the people. It implies that true life, well-being, and vitality are found in and through God. This is a direct identification of God with "life" in a way that transcends a literal biological definition, making it a clear cross-domain comparison. Therefore, I classified it as a metaphor.\n\n*   **וְאֹ֣רֶךְ יָמֶ֔יךָ** (and shall long endure / lit. "and the length of your days"): I considered if "length of your days" could be figurative. This phrase directly refers to a long lifespan or extended duration of existence. It is a literal promise of longevity. There is no hidden meaning or cross-domain comparison. Therefore, I concluded it is not figurative.\n\n*   **לָשֶׁ֣בֶת עַל־הָאֲדָמָ֗ה** (upon the soil / lit. "to dwell upon the land"): I considered if "dwelling upon the land" could be figurative. This is a straightforward description of physical residence in a geographical territory. It is a literal statement about the people\'s habitation. Therefore, I concluded it is not figurative.\n\n*   **אֲשֶׁר֩ נִשְׁבַּ֨ע יְהֹוָ֧ה לַאֲבֹתֶ֛יךָ** (that יהוה swore to your fathers): I considered if "God swore" is an anthropomorphism and thus figurative. However, the instructions explicitly state that "Divine anthropomorphisms (e.g. God went, God was angry, God watched, God fought) - these are LITERAL in the ANE context unless they refer to God\'s body (God\'s finger)." "Swearing" is an action attributed to God, not a reference to a specific body part. Therefore, following the given guidelines, this is treated as a literal action within the ANE worldview. I concluded it is not figurative.\n\n*   **לְאַבְרָהָ֛ם לְיִצְחָ֥ק וּֽלְיַעֲקֹ֖ב לָתֵ֥ת לָהֶֽם** (Abraham, Isaac, and Jacob, to give to them): This is a direct reference to historical figures and a literal promise. It contains no figurative language. Therefore, I concluded it is not figurative.', 'fallback_used': False}
2025-09-21 14:14:02,134 - INFO - Deuteronomy 30 COMPLETED: 0 figurative instances from 1 verses
2025-09-21 14:14:02,145 - INFO - 
=== DEUTERONOMY PROCESSING COMPLETE ===
2025-09-21 14:14:02,146 - INFO - Database: deuteronomy_30_20_20250921_1413.db
2025-09-21 14:14:02,146 - INFO - Log file: deuteronomy_30_20_20250921_1413_log.txt
2025-09-21 14:14:02,146 - INFO - Total verses processed: 1
2025-09-21 14:14:02,146 - INFO - Total figurative instances: 0
2025-09-21 14:14:02,147 - INFO - Errors: 0
2025-09-21 14:14:02,147 - INFO - Processing time: 26.2 seconds
2025-09-21 14:14:02,147 - INFO - 
--- Multi-Model API Usage Statistics ---
2025-09-21 14:14:02,147 - INFO - Total Requests: 1
2025-09-21 14:14:02,148 - INFO - Primary Success: 1
2025-09-21 14:14:02,148 - INFO - Fallback Used: 0
2025-09-21 14:14:02,148 - INFO - Primary Success Rate: 1.0
2025-09-21 14:14:02,148 - INFO - Fallback Rate: 0.0
2025-09-21 14:14:02,148 - INFO - Total Input Tokens: 982
2025-09-21 14:14:02,149 - INFO - Total Output Tokens: 1915
2025-09-21 14:14:02,149 - INFO - Total Tokens: 2897
2025-09-21 14:14:02,149 - INFO - Primary Model: gemini-2.5-flash
2025-09-21 14:14:02,149 - INFO - Fallback Model: gemini-1.5-flash
2025-09-21 14:14:02,150 - INFO - Restriction Reasons: []
