2025-09-21 14:35:06,890 - INFO - Successfully loaded environment variables from: C:\Users\ariro\OneDrive\Documents\Bible\.env
2025-09-21 14:35:06,891 - INFO - === PROCESSING DEUTERONOMY CHAPTER(S) [30] WITH MULTI-MODEL API ===
2025-09-21 14:35:06,892 - INFO - Initializing Sefaria client...
2025-09-21 14:35:06,892 - INFO - Creating database: deuteronomy_30_20_20250921_1435.db
2025-09-21 14:35:07,552 - INFO - Initializing Metaphor Validator...
2025-09-21 14:35:07,552 - INFO - Initializing Gemini multi-model API...
2025-09-21 14:35:07,552 - INFO - --- Processing Deuteronomy 30 ---
2025-09-21 14:35:07,553 - INFO - Fetching text for Deuteronomy 30...
2025-09-21 14:35:07,965 - INFO - Retrieved 20 verses for Deuteronomy 30
2025-09-21 14:35:07,965 - INFO - Filtering to process 1 selected verse(s): [20]
2025-09-21 14:35:07,965 - INFO -   Processing Deuteronomy 30:20 (1/1)...
2025-09-21 14:35:28,484 - ERROR - JSON decode error at position 1062: Unterminated string starting at
2025-09-21 14:35:28,485 - ERROR - JSON string length: 1088
2025-09-21 14:35:28,485 - ERROR - JSON context around error: ...ew_text": "וּלְדׇבְקָה־ב֑וֹ",
    "english_text": "and holding fast to [God]...
2025-09-21 14:35:28,485 - ERROR - Extracted JSON string (first 800 chars): [
  {
    "figurative_language": "yes",
    "simile": "no",
    "metaphor": "no",
    "personification": "no",
    "idiom": "yes",
    "hyperbole": "no",
    "metonymy": "yes",
    "other": "no",
    "hebrew_text": "לִשְׁמֹ֥עַ בְּקֹל֖וֹ",
    "english_text": "heeding God’s commands",
    "explanation": "This is an idiom where 'listening to His voice' (שְׁמֹעַ בְּקֹלוֹ) metonymically stands for obeying His commands or will. The 'voice' (קול) is the means of communication, representing the content of the communication (commands).",
    "vehicle_level_1": "human",
    "vehicle_level_2": "voice/hearing",
    "tenor_level_1": "covenant",
    "tenor_level_2": "obedience/commands",
    "confidence": 1.0,
    "speaker": "Narrator",
    "purpose": "To convey the requirement of obedience to God's wi...
2025-09-21 14:35:28,486 - ERROR - Extracted JSON string (last 300 chars): ... to God's will."
  },
  {
    "figurative_language": "yes",
    "simile": "no",
    "metaphor": "yes",
    "personification": "no",
    "idiom": "no",
    "hyperbole": "no",
    "metonymy": "no",
    "other": "no",
    "hebrew_text": "וּלְדׇבְקָה־ב֑וֹ",
    "english_text": "and holding fast to [God]
2025-09-21 14:35:28,487 - INFO - Attempting to repair truncated JSON...
2025-09-21 14:35:28,488 - INFO - Successfully repaired JSON, recovered 1 items
2025-09-21 14:35:28,488 - INFO -     API Metadata: {'model_used': 'gemini-2.5-flash', 'context': 'narrative', 'retries': 0, 'input_tokens': 983, 'output_tokens': 1854, 'all_detected_instances': [{'figurative_language': 'yes', 'simile': 'no', 'metaphor': 'no', 'personification': 'no', 'idiom': 'yes', 'hyperbole': 'no', 'metonymy': 'yes', 'other': 'no', 'hebrew_text': 'לִשְׁמֹ֥עַ בְּקֹל֖וֹ', 'english_text': 'heeding God’s commands', 'explanation': "This is an idiom where 'listening to His voice' (שְׁמֹעַ בְּקֹלוֹ) metonymically stands for obeying His commands or will. The 'voice' (קול) is the means of communication, representing the content of the communication (commands).", 'vehicle_level_1': 'human', 'vehicle_level_2': 'voice/hearing', 'tenor_level_1': 'covenant', 'tenor_level_2': 'obedience/commands', 'confidence': 1.0, 'speaker': 'Narrator', 'purpose': "To convey the requirement of obedience to God's will.", 'original_detection_types': 'idiom,metonymy'}], 'llm_deliberation': '1.  **לְאַֽהֲבָה֙ אֶת־יְהֹוָ֣ה אֱלֹהֶ֔יךָ** (by loving your God יהוה): I considered if "loving God" could be figurative, perhaps a metonymy for obedience or a metaphor for devotion. However, "love" (אהבה) is a fundamental human emotion and volitional act. While it encompasses various aspects (affection, loyalty, obedience), the act of loving God is understood as a direct and literal command for the people\'s disposition and actions towards the divine. It is not a cross-domain comparison or a non-literal expression in this context. Therefore, I have excluded it as figurative.\n\n2.  **לִשְׁמֹ֥עַ בְּקֹל֖וֹ** (heeding God’s commands / listening to His voice): I considered if "listening to His voice" (שְׁמֹעַ בְּקֹלוֹ) is literal or figurative. While "voice" (קול) can refer to an audible sound, in this common biblical phrase, it functions as an idiom meaning "to obey," "to heed," or "to comply with." God\'s "voice" here represents His commands, instructions, or will, rather than a literal sound wave. This is a metonymy where the means of communication ("voice") stands for the content or effect of the communication ("commands/will"). The English translation "heeding God\'s commands" accurately captures this idiomatic and metonymic sense.\n\n3.  **וּלְדׇבְקָה־ב֑וֹ** (and holding fast to [God]): I considered if "holding fast to Him" (דָּבְקָה־בּוֹ) is a literal physical action or a figurative expression. The verb דבק (dabaq) literally means "to cling," "to stick," or "to adhere." When applied to God, it is clearly not a literal physical act of clinging. Instead, it is a metaphor that uses the physical act of adhesion to express a deep, unwavering spiritual and relational commitment, loyalty, and devotion to God. It signifies an inseparable bond. This is a clear cross-domain comparison (physical clinging to spiritual devotion).\n\n4.  **כִּ֣י ה֤וּא חַיֶּ֙יךָ֙ וְאֹ֣רֶךְ יָמֶ֔יךָ** (For thereby you shall have life and shall long endure / For He is your life and the length of your days): I considered if the statement "He is your life and the length of your days" is literal or metaphorical. God is not literally the abstract concept of "life" or the duration of "days." Rather, this is a powerful metaphor equating God directly with these benefits. It means that God is the ultimate source, giver, and sustainer of life and longevity. The statement implies that life and long existence are found *in* Him or *through* Him. This is a clear cross-domain comparison where a divine entity is equated with abstract concepts and their benefits.\n\n5.  **לָשֶׁ֣בֶת עַל־הָאֲדָמָ֗ה** (to dwell upon the soil): I considered if "soil" (אֲדָמָה) here is a synecdoche for "land" or "territory." While אֲדָמָה can mean "ground," "earth," or "land," in the context of "dwelling upon," it refers to the physical territory or place of habitation. This is a literal description of living in a specific geographical area, not a figurative use of "soil" to represent something else. Therefore, I have excluded it as figurative.\n\n6.  **אֲשֶׁר֩ נִשְׁבַּ֨ע יְהֹוָ֧ה לַאֲבֹתֶ֛יךָ** (that יהוה swore to your fathers): I considered if "יהוה swore" (נִשְׁבַּע יְהֹוָה) is an anthropomorphism that should be marked as figurative. However, the instructions explicitly state that "Divine anthropomorphisms (e.g. God went, God was angry, God watched, God fought) - these are LITERAL in the ANE context unless they refer to God\'s body (God\'s finger)." "Swearing" is an action attributed to God, not a reference to a specific body part. Therefore, according to the provided guidelines, this is treated as a literal anthropomorphism and not marked as figurative.\n\n---', 'fallback_used': False}
2025-09-21 14:35:28,498 - INFO -     DETECTED: 1 instances, VALIDATED: 1 instances
2025-09-21 14:35:30,005 - INFO -     FINAL: 1 valid instances stored with validation decisions
2025-09-21 14:35:30,006 - INFO -       Instance 1: unknown - 'heeding God’s commands'
2025-09-21 14:35:30,006 - INFO - Deuteronomy 30 COMPLETED: 1 figurative instances from 1 verses
2025-09-21 14:35:30,047 - INFO - 
=== DEUTERONOMY PROCESSING COMPLETE ===
2025-09-21 14:35:30,047 - INFO - Database: deuteronomy_30_20_20250921_1435.db
2025-09-21 14:35:30,048 - INFO - Log file: deuteronomy_30_20_20250921_1435_log.txt
2025-09-21 14:35:30,048 - INFO - Total verses processed: 1
2025-09-21 14:35:30,048 - INFO - Total figurative instances: 1
2025-09-21 14:35:30,048 - INFO - Errors: 0
2025-09-21 14:35:30,049 - INFO - Processing time: 23.1 seconds
2025-09-21 14:35:30,049 - INFO - 
--- Multi-Model API Usage Statistics ---
2025-09-21 14:35:30,049 - INFO - Total Requests: 1
2025-09-21 14:35:30,049 - INFO - Primary Success: 1
2025-09-21 14:35:30,049 - INFO - Fallback Used: 0
2025-09-21 14:35:30,050 - INFO - Primary Success Rate: 1.0
2025-09-21 14:35:30,050 - INFO - Fallback Rate: 0.0
2025-09-21 14:35:30,050 - INFO - Total Input Tokens: 983
2025-09-21 14:35:30,050 - INFO - Total Output Tokens: 1854
2025-09-21 14:35:30,050 - INFO - Total Tokens: 2837
2025-09-21 14:35:30,050 - INFO - Primary Model: gemini-2.5-flash
2025-09-21 14:35:30,051 - INFO - Fallback Model: gemini-1.5-flash
2025-09-21 14:35:30,051 - INFO - Restriction Reasons: []
