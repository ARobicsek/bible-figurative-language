2025-09-21 15:16:04,789 - INFO - Successfully loaded environment variables from: C:\Users\ariro\OneDrive\Documents\Bible\.env
2025-09-21 15:16:04,789 - INFO - === PROCESSING DEUTERONOMY CHAPTER(S) [30] WITH MULTI-MODEL API ===
2025-09-21 15:16:04,790 - INFO - Initializing Sefaria client...
2025-09-21 15:16:04,790 - INFO - Creating database: deuteronomy_30_20_20250921_1516.db
2025-09-21 15:16:05,455 - INFO - Initializing Metaphor Validator...
2025-09-21 15:16:05,455 - INFO - Initializing Gemini multi-model API...
2025-09-21 15:16:05,455 - INFO - --- Processing Deuteronomy 30 ---
2025-09-21 15:16:05,456 - INFO - Fetching text for Deuteronomy 30...
2025-09-21 15:16:05,817 - INFO - Retrieved 20 verses for Deuteronomy 30
2025-09-21 15:16:05,817 - INFO - Filtering to process 1 selected verse(s): [20]
2025-09-21 15:16:05,817 - INFO -   Processing Deuteronomy 30:20 (1/1)...
2025-09-21 15:16:27,307 - ERROR - JSON decode error at position 1004: Unterminated string starting at
2025-09-21 15:16:27,307 - ERROR - JSON string length: 1030
2025-09-21 15:16:27,308 - ERROR - JSON context around error: ...ew_text": "וּלְדׇבְקָה־ב֑וֹ",
    "english_text": "and holding fast to [God]...
2025-09-21 15:16:27,308 - ERROR - Extracted JSON string (first 800 chars): [
  {
    "figurative_language": "yes",
    "simile": "no",
    "metaphor": "no",
    "personification": "no",
    "idiom": "yes",
    "hyperbole": "no",
    "metonymy": "yes",
    "other": "no",
    "hebrew_text": "לִשְׁמֹ֥עַ בְּקֹל֖וֹ",
    "english_text": "heeding God’s commands / listening to His voice",
    "explanation": "This is an idiom where 'listening to the voice' (the medium/sound) stands metonymically for 'obeying the commands/message.'",
    "vehicle_level_1": "human",
    "vehicle_level_2": "auditory perception/voice",
    "tenor_level_1": "covenant",
    "tenor_level_2": "obedience/commands",
    "confidence": 1.0,
    "speaker": "Narrator",
    "purpose": "To express the requirement of obedience to God's instructions."
  },
  {
    "figurative_language": "yes",
    "simile...
2025-09-21 15:16:27,309 - ERROR - Extracted JSON string (last 300 chars): ... instructions."
  },
  {
    "figurative_language": "yes",
    "simile": "no",
    "metaphor": "yes",
    "personification": "no",
    "idiom": "yes",
    "hyperbole": "no",
    "metonymy": "no",
    "other": "no",
    "hebrew_text": "וּלְדׇבְקָה־ב֑וֹ",
    "english_text": "and holding fast to [God]
2025-09-21 15:16:27,309 - INFO - Attempting to repair truncated JSON...
2025-09-21 15:16:27,310 - INFO - Successfully repaired JSON, recovered 1 items
2025-09-21 15:16:27,310 - INFO -     API Metadata: {'model_used': 'gemini-2.5-flash', 'context': 'narrative', 'retries': 0, 'input_tokens': 983, 'output_tokens': 2085, 'all_detected_instances': [{'figurative_language': 'yes', 'simile': 'no', 'metaphor': 'no', 'personification': 'no', 'idiom': 'yes', 'hyperbole': 'no', 'metonymy': 'yes', 'other': 'no', 'hebrew_text': 'לִשְׁמֹ֥עַ בְּקֹל֖וֹ', 'english_text': 'heeding God’s commands / listening to His voice', 'explanation': "This is an idiom where 'listening to the voice' (the medium/sound) stands metonymically for 'obeying the commands/message.'", 'vehicle_level_1': 'human', 'vehicle_level_2': 'auditory perception/voice', 'tenor_level_1': 'covenant', 'tenor_level_2': 'obedience/commands', 'confidence': 1.0, 'speaker': 'Narrator', 'purpose': "To express the requirement of obedience to God's instructions.", 'original_detection_types': 'idiom,metonymy'}], 'llm_deliberation': 'I have analyzed the provided Hebrew text for potential figurative language, adhering to the specified guidelines for a biblical Hebrew scholar.\n\n1.  **לְאַֽהֲבָה֙ אֶת־יְהֹוָ֣ה אֱלֹהֶ֔יךָ** (loving your God יהוה): I considered if "loving God" could be figurative, perhaps a metonymy for obedience or loyalty. However, in biblical context, love for God is presented as a genuine emotional and volitional state, often expressed through obedience, but not merely a stand-in for it. It is a literal command for a spiritual and relational posture. Therefore, I have excluded it as figurative.\n\n2.  **לִשְׁמֹ֥עַ בְּקֹל֖וֹ** (lishmo\'a b\'qolo - heeding God’s commands / listening to His voice): I considered if "listening to His voice" was a literal auditory act or a figurative expression. While God can speak audibly, in this general hortatory context, "שמע בקול" (to hear/listen to a voice) is a well-established biblical idiom for "to obey," "to heed," or "to comply with commands/instructions." The "voice" here is not merely the sound waves but stands metonymically for the message or command itself, and the act of "listening" signifies obedience. This is a clear idiom.\n\n3.  **וּלְדׇבְקָה־ב֑וֹ** (u\'l\'davqa-bo - holding fast to [God] / cleaving to Him): I considered if "cleaving" or "holding fast" to God was a literal physical act. The verb דבק (dabaq) literally means "to cling," "to stick to," or "to cleave." When applied to God, it clearly refers to a spiritual, emotional, and covenantal loyalty, devotion, and close adherence to God\'s ways and commands, not a physical attachment. This constitutes a clear cross-domain comparison where physical clinging (vehicle) represents spiritual devotion and loyalty (tenor). It functions as a metaphor. Given its frequent use in this specific spiritual sense, it also qualifies as a biblical idiom.\n\n4.  **כִּ֣י ה֤וּא חַיֶּ֙יךָ֙** (ki hu chayyecha - For He is your life): I considered if God is literally "life" in a biological or abstract sense. God is not literally the abstract concept of "life" or a biological entity. Rather, God is the *source*, *giver*, or *sustainer* of life. The statement "He is your life" is a strong metaphorical identification, equating God (tenor) directly with the essential quality or outcome of life (vehicle/effect). This emphasizes God\'s indispensable role and the profound connection between God and the existence of the people. It could also be argued as metonymy (cause for effect), but the direct "is" statement leans more strongly towards metaphor.\n\n5.  **וְאֹ֣רֶךְ יָמֶ֔יךָ** (v\'orech yamecha - and the length of your days): Similar to the previous phrase, I considered if God is literally "the length of your days." God is not literally the duration of time itself. He is the *giver* or *enabler* of long life and endurance. This is a metaphorical identification, where God (tenor) is equated with the outcome of long life (vehicle/effect). As with "He is your life," this could also be seen as metonymy (cause for effect), but the direct identification points to metaphor.\n\n6.  **לָשֶׁ֣בֶת עַל־הָאֲדָמָ֗ה** (to dwell upon the soil): I considered if "dwelling upon the soil" was figurative. This is a literal statement referring to living in the land. No figurative language is present here.\n\n7.  **אֲשֶׁר֩ נִשְׁבַּ֨ע יְהֹוָ֧ה לַאֲבֹתֶ֛יךָ לְאַבְרָהָ֛ם לְיִצְחָ֥ק וּֽלְיַעֲקֹ֖ב לָתֵ֥ת לָהֶֽם** (that יהוה swore to your fathers Abraham, Isaac, and Jacob, to give to them): This describes a literal historical act of God swearing an oath. No figurative language is present here.', 'fallback_used': False}
2025-09-21 15:16:27,331 - INFO -     DETECTED: 1 instances, VALIDATED: 1 instances
2025-09-21 15:16:28,927 - INFO -     FINAL: 1 valid instances stored with validation decisions
2025-09-21 15:16:28,928 - INFO -       Instance 1: unknown - 'heeding God’s commands / listening to His voice'
2025-09-21 15:16:28,928 - INFO - Deuteronomy 30 COMPLETED: 1 figurative instances from 1 verses
2025-09-21 15:16:28,952 - INFO - 
=== DEUTERONOMY PROCESSING COMPLETE ===
2025-09-21 15:16:28,953 - INFO - Database: deuteronomy_30_20_20250921_1516.db
2025-09-21 15:16:28,953 - INFO - Log file: deuteronomy_30_20_20250921_1516_log.txt
2025-09-21 15:16:28,953 - INFO - Total verses processed: 1
2025-09-21 15:16:28,954 - INFO - Total figurative instances: 1
2025-09-21 15:16:28,954 - INFO - Errors: 0
2025-09-21 15:16:28,954 - INFO - Processing time: 24.2 seconds
2025-09-21 15:16:28,954 - INFO - 
--- Multi-Model API Usage Statistics ---
2025-09-21 15:16:28,955 - INFO - Total Requests: 1
2025-09-21 15:16:28,955 - INFO - Primary Success: 1
2025-09-21 15:16:28,955 - INFO - Fallback Used: 0
2025-09-21 15:16:28,955 - INFO - Primary Success Rate: 1.0
2025-09-21 15:16:28,956 - INFO - Fallback Rate: 0.0
2025-09-21 15:16:28,956 - INFO - Total Input Tokens: 983
2025-09-21 15:16:28,956 - INFO - Total Output Tokens: 2085
2025-09-21 15:16:28,957 - INFO - Total Tokens: 3068
2025-09-21 15:16:28,957 - INFO - Primary Model: gemini-2.5-flash
2025-09-21 15:16:28,957 - INFO - Fallback Model: gemini-1.5-flash
2025-09-21 15:16:28,957 - INFO - Restriction Reasons: []
