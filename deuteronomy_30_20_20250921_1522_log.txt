2025-09-21 15:22:23,122 - INFO - Successfully loaded environment variables from: C:\Users\ariro\OneDrive\Documents\Bible\.env
2025-09-21 15:22:23,123 - INFO - === PROCESSING DEUTERONOMY CHAPTER(S) [30] WITH MULTI-MODEL API ===
2025-09-21 15:22:23,132 - INFO - Initializing Sefaria client...
2025-09-21 15:22:23,133 - INFO - Creating database: deuteronomy_30_20_20250921_1522.db
2025-09-21 15:22:23,766 - INFO - Initializing Metaphor Validator...
2025-09-21 15:22:23,766 - INFO - Initializing Gemini multi-model API...
2025-09-21 15:22:23,766 - INFO - --- Processing Deuteronomy 30 ---
2025-09-21 15:22:23,766 - INFO - Fetching text for Deuteronomy 30...
2025-09-21 15:22:24,136 - INFO - Retrieved 20 verses for Deuteronomy 30
2025-09-21 15:22:24,137 - INFO - Filtering to process 1 selected verse(s): [20]
2025-09-21 15:22:24,137 - INFO -   Processing Deuteronomy 30:20 (1/1)...
2025-09-21 15:22:46,678 - ERROR - JSON decode error at position 1016: Unterminated string starting at
2025-09-21 15:22:46,679 - ERROR - JSON string length: 1042
2025-09-21 15:22:46,679 - ERROR - JSON context around error: ...ew_text": "וּלְדׇבְקָה־ב֑וֹ",
    "english_text": "and holding fast to [God]...
2025-09-21 15:22:46,679 - ERROR - Extracted JSON string (first 800 chars): [
  {
    "figurative_language": "yes",
    "simile": "no",
    "metaphor": "no",
    "personification": "no",
    "idiom": "yes",
    "hyperbole": "no",
    "metonymy": "no",
    "other": "no",
    "hebrew_text": "לִשְׁמֹ֥עַ בְּקֹל֖וֹ",
    "english_text": "heeding God’s commands",
    "explanation": "This is a common biblical idiom where 'listening to His voice' signifies obeying or heeding God's instructions and commands, rather than merely perceiving an auditory sound.",
    "vehicle_level_1": "human",
    "vehicle_level_2": "sound/voice",
    "tenor_level_1": "covenant",
    "tenor_level_2": "divine instruction/obedience",
    "confidence": 1.0,
    "speaker": "Narrator",
    "purpose": "To emphasize the importance of obedience to God's will."
  },
  {
    "figurative_language": "yes"...
2025-09-21 15:22:46,680 - ERROR - Extracted JSON string (last 300 chars): ... to God's will."
  },
  {
    "figurative_language": "yes",
    "simile": "no",
    "metaphor": "yes",
    "personification": "no",
    "idiom": "no",
    "hyperbole": "no",
    "metonymy": "no",
    "other": "no",
    "hebrew_text": "וּלְדׇבְקָה־ב֑וֹ",
    "english_text": "and holding fast to [God]
2025-09-21 15:22:46,680 - INFO - Attempting to repair truncated JSON...
2025-09-21 15:22:46,681 - WARNING - JSON repair: recovered 1 of 2 detected instances - 1 instances lost to truncation
2025-09-21 15:22:46,681 - INFO -     API Metadata: {'model_used': 'gemini-2.5-flash', 'context': 'narrative', 'retries': 0, 'input_tokens': 985, 'output_tokens': 1984, 'all_detected_instances': [{'figurative_language': 'yes', 'simile': 'no', 'metaphor': 'no', 'personification': 'no', 'idiom': 'yes', 'hyperbole': 'no', 'metonymy': 'no', 'other': 'no', 'hebrew_text': 'לִשְׁמֹ֥עַ בְּקֹל֖וֹ', 'english_text': 'heeding God’s commands', 'explanation': "This is a common biblical idiom where 'listening to His voice' signifies obeying or heeding God's instructions and commands, rather than merely perceiving an auditory sound.", 'vehicle_level_1': 'human', 'vehicle_level_2': 'sound/voice', 'tenor_level_1': 'covenant', 'tenor_level_2': 'divine instruction/obedience', 'confidence': 1.0, 'speaker': 'Narrator', 'purpose': "To emphasize the importance of obedience to God's will.", 'original_detection_types': 'idiom'}], 'llm_deliberation': 'I have analyzed the provided Hebrew text, לְאַֽהֲבָה֙ אֶת־יְהֹוָ֣ה אֱלֹהֶ֔יךָ לִשְׁמֹ֥עַ בְּקֹל֖וֹ וּלְדׇבְקָה־ב֑וֹ כִּ֣י ה֤וּא חַיֶּ֙יךָ֙ וְאֹ֣רֶךְ יָמֶ֔יךָ לָשֶׁ֣בֶת עַל־הָאֲדָמָ֗ה אֲשֶׁר֩ נִשְׁבַּ֨ע יְהֹוָ֧ה לַאֲבֹתֶ֛יךָ לְאַבְרָהָ֛ם לְיִצְחָ֥ק וּֽלְיַעֲקֹ֖ב לָתֵ֥ת לָהֶֽם, for figurative language according to the given guidelines.\n\n1.  **לְאַֽהֲבָה֙ אֶת־יְהֹוָ֣ה אֱלֹהֶ֔יךָ** (by loving your God יהוה): I considered if "loving God" could be figurative. However, this is a direct command for an attitude and action, not a cross-domain comparison or an idiom. It is a literal expression of devotion. Therefore, it is not marked as figurative.\n\n2.  **לִשְׁמֹ֥עַ בְּקֹל֖וֹ** (heeding God’s commands / listening to His voice): I considered if "listening to His voice" (שמע בקולו) is a literal act of hearing sound or something more. This phrase is a well-established biblical idiom. While "voice" (קול) is a literal concept, "listening *to* the voice" in this context signifies obeying or heeding God\'s instructions and commands, rather than merely perceiving an auditory phenomenon. It\'s a set phrase for obedience. Therefore, I have marked it as an idiom.\n\n3.  **וּלְדׇבְקָה־ב֑וֹ** (and holding fast to [God]): I considered the verb דבק (dabaq), which literally means to cling, stick, or cleave. When applied to God, as in "holding fast to Him," it is not a literal physical act of clinging. Instead, it metaphorically describes a deep spiritual devotion, loyalty, and adherence to God. This is a clear cross-domain comparison, applying a physical action to an abstract spiritual relationship. Therefore, I have marked it as a metaphor.\n\n4.  **כִּ֣י ה֤וּא חַיֶּ֙יךָ֙** (For he is your life): I considered the direct equation "He is your life." God is not literally "life" in the biological or abstract sense of existence itself. Rather, this statement metaphorically identifies God as the ultimate source, sustainer, and essence of true life, well-being, and flourishing. It\'s a direct cross-domain comparison where God is equated with the concept of life. Therefore, I have marked it as a metaphor.\n\n5.  **וְאֹ֣רֶךְ יָמֶ֔יךָ** (and shall long endure / and the length of your days): I considered if "length of your days" is figurative. This is a straightforward expression for longevity or a long lifespan. It is a literal concept of duration and is not a metaphor, simile, or idiom. Therefore, it is not marked as figurative.\n\n6.  **לָשֶׁ֣בֶת עַל־הָאֲדָמָ֗ה** (to dwell upon the soil/land): This describes a literal action (dwelling) on a literal location (the land). It is not figurative.\n\n7.  **אֲשֶׁר֩ נִשְׁבַּ֨ע יְהֹוָ֧ה לַאֲבֹתֶ֛יךָ לְאַבְרָהָ֛ם לְיִצְחָ֥ק וּֽלְיַעֲקֹ֖ב לָתֵ֥ת לָהֶֽם** (that יהוה swore to your fathers Abraham, Isaac, and Jacob, to give to them):\n    *   **נִשְׁבַּ֨ע יְהֹוָ֧ה** (יהוה swore): I considered this as a potential anthropomorphism. According to the guidelines, divine anthropomorphisms (like God went, God was angry, God watched, God fought) are to be treated as LITERAL in the ANE context unless they refer to God\'s body (e.g., God\'s finger). "Swearing" is an action attributed to God, not a reference to a body part. Therefore, it is treated as literal per the instructions.\n    *   **לַאֲבֹתֶ֛יךָ לְאַבְרָהָ֛ם לְיִצְחָ֥ק וּֽלְיַעֲקֹ֖ב** (to your fathers Abraham, Isaac, and Jacob): This is literal genealogical and historical information. It is not figurative.\n\nIn summary, I have identified three instances of figurative language: one idiom and two metaphors.\n\n---', 'fallback_used': False}
2025-09-21 15:22:46,697 - INFO -     DETECTED: 1 instances, VALIDATED: 1 instances
2025-09-21 15:22:47,434 - INFO -     FINAL: 1 valid instances stored with validation decisions
2025-09-21 15:22:47,434 - INFO -       Instance 1: unknown - 'heeding God’s commands'
2025-09-21 15:22:47,435 - INFO - Deuteronomy 30 COMPLETED: 1 figurative instances from 1 verses
2025-09-21 15:22:47,485 - INFO - 
=== DEUTERONOMY PROCESSING COMPLETE ===
2025-09-21 15:22:47,485 - INFO - Database: deuteronomy_30_20_20250921_1522.db
2025-09-21 15:22:47,485 - INFO - Log file: deuteronomy_30_20_20250921_1522_log.txt
2025-09-21 15:22:47,486 - INFO - Total verses processed: 1
2025-09-21 15:22:47,486 - INFO - Total figurative instances: 1
2025-09-21 15:22:47,486 - INFO - Errors: 0
2025-09-21 15:22:47,486 - INFO - Processing time: 24.4 seconds
2025-09-21 15:22:47,486 - INFO - 
--- Multi-Model API Usage Statistics ---
2025-09-21 15:22:47,487 - INFO - Total Requests: 1
2025-09-21 15:22:47,487 - INFO - Primary Success: 1
2025-09-21 15:22:47,487 - INFO - Fallback Used: 0
2025-09-21 15:22:47,487 - INFO - Primary Success Rate: 1.0
2025-09-21 15:22:47,487 - INFO - Fallback Rate: 0.0
2025-09-21 15:22:47,488 - INFO - Total Input Tokens: 985
2025-09-21 15:22:47,488 - INFO - Total Output Tokens: 1984
2025-09-21 15:22:47,488 - INFO - Total Tokens: 2969
2025-09-21 15:22:47,488 - INFO - Primary Model: gemini-2.5-flash
2025-09-21 15:22:47,488 - INFO - Fallback Model: gemini-1.5-flash
2025-09-21 15:22:47,489 - INFO - Restriction Reasons: []
